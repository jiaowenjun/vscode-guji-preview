{
  "scopeName": "source.guji",
  "patterns": [
    {
      "include": "#block"
    }
  ],
  "repository": {
    "block": {
      "patterns": [
        {
          "include": "#comment"
        },
        {
          "include": "#page-decl"
        },
        {
          "include": "#large-line"
        },
        {
          "include": "#book"
        },
        {
          "include": "#large-circle-letter"
        },
        {
          "include": "#large-letter"
        },
        {
          "include": "#space"
        }
      ]
    },
    "comment": {
      "match": "//.*|，|。|·|：",
      "name": "comment"
    },
    "page-decl": {
      "match": "^\\s*@\\d+\\s*$",
      "name": "guji.page-decl"
    },
    "large-line": {
      "match": "^\\s*#+ [^#【】]+\\s*$",
      "name": "guji.large-line"
    },
    "large-circle-letter": {
      "match": "#\\([^#【】(]",
      "name": "guji.large-circle-letter"
    },
    "large-letter": {
      "match": "#[^#【】(]",
      "name": "guji.large-letter"
    },
    "space": {
      "match": "\\*|　",
      "name": "guji.space"
    },
    "book": {
      "begin": "【",
      "end": "】",
      "beginCaptures": {
        "0": {
          "name": "guji.book.open"
        }
      },
      "endCaptures": {
        "0": {
          "name": "guji.book.close"
        }
      },
      "name": "guji.book",
      "patterns": [
        {
          "include": "#block"
        }
      ]
    }
  }
}
